<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Scofield Analista</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #111;
      color: #fff;
      margin: 0;
      padding: 20px;
    }
    h2 {
      margin-top: 30px;
    }
    .box {
      display: flex;
      justify-content: space-around;
      margin-bottom: 10px;
    }
    .card {
      background: #222;
      border: 1px solid #555;
      padding: 10px;
      text-align: center;
      flex: 1;
      margin: 5px;
      border-radius: 8px;
    }
    input {
      width: 90%;
      padding: 5px;
      margin-top: 5px;
      border-radius: 4px;
      border: none;
    }
    button {
      margin-top: 10px;
      padding: 10px 20px;
      background: #00b894;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      color: #fff;
    }
    .resultado, .lista-horarios {
      margin-top: 15px;
      background: #1e1e1e;
      padding: 10px;
      border-radius: 8px;
    }
    .linha {
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid #333;
      padding: 5px 0;
    }
    .linha:last-child {
      border: none;
    }
    .botoes {
      display: flex;
      gap: 10px;
    }
    .titulo-coluna {
      margin-top: 20px;
      font-weight: bold;
      font-size: 18px;
    }
  </style>
</head>
<body>

  <h1>üß† Scofield Analista ‚Äì Estrat√©gias 1 e 2</h1>

  <!-- Estrat√©gia 1 -->
  <h2>üìä Estrat√©gia 1 ‚Äì Soma dos D√≠gitos</h2>
  <div class="box">
    <div class="card">
      <div>üî¥ Anterior</div>
      <input type="number" id="anterior-num" placeholder="N√∫mero">
      <input type="text" id="anterior-hora" placeholder="HH:MM:SS">
    </div>
    <div class="card">
      <div>üé≤ Branco</div>
      <input type="text" id="branco-hora" placeholder="HH:MM:SS">
    </div>
    <div class="card">
      <div>‚ö´ Posterior</div>
      <input type="number" id="posterior-num" placeholder="N√∫mero">
      <input type="text" id="posterior-hora" placeholder="HH:MM:SS">
    </div>
  </div>
  <button onclick="analisarEstrategia1()">Analisar Estrat√©gia 1</button>
  <div id="resultado1" class="resultado"></div>

  <!-- Estrat√©gia 2 -->
  <h2>‚è±Ô∏è Estrat√©gia 2 ‚Äì Contagem 6 em 6</h2>
  <div class="box">
    <div class="card">
      <div>üïí Minuto do Branco</div>
      <input type="text" id="minuto-branco" placeholder="Ex: 12:06">
    </div>
    <div class="card">
      <div>üìç Hora Atual</div>
      <input type="text" id="hora-atual" placeholder="Ex: 13:00">
    </div>
  </div>
  <button onclick="gerarEstrategia2()">Gerar Lista de Hor√°rios</button>
  <div id="lista2" class="lista-horarios"></div>

  <script>
    const resultados1 = [];

    function somarDigitos(str) {
      return str.replace(/\D/g, '').split('').reduce((acc, val) => acc + parseInt(val), 0);
    }

    function analisarEstrategia1() {
      const anteriorNum = document.getElementById('anterior-num').value;
      const anteriorHora = document.getElementById('anterior-hora').value;
      const brancoHora = document.getElementById('branco-hora').value;
      const posteriorNum = document.getElementById('posterior-num').value;
      const posteriorHora = document.getElementById('posterior-hora').value;

      const total = somarDigitos(anteriorNum) + somarDigitos(anteriorHora) +
                    somarDigitos(brancoHora) + somarDigitos(posteriorNum) +
                    somarDigitos(posteriorHora);

      const horaBase = brancoHora.slice(0, 2) + ":00";
      resultados1.push({ hora: horaBase, valor: total });

      exibirResultados1();
    }

    function exibirResultados1() {
      const atual = [];
      const proxima = [];
      const seguinte = [];

      const agora = new Date();
      const horaAtual = agora.getHours();
      const proximaHora = (horaAtual + 1) % 24;
      const seguinteHora = (horaAtual + 2) % 24;

      resultados1.forEach(item => {
        const h = parseInt(item.hora.slice(0, 2));
        if (h === horaAtual) atual.push(item);
        else if (h === proximaHora) proxima.push(item);
        else if (h === seguinteHora) seguinte.push(item);
      });

      const render = (lista) => lista.map(item => `
        <div class="linha">
          <div>${item.hora} ‚Üí Soma: ${item.valor}</div>
          <div class="botoes">
            <button>‚úÖ</button>
            <button>‚ùå</button>
          </div>
        </div>
      `).join('');

      document.getElementById('resultado1').innerHTML = `
        <div class="titulo-coluna">‚è∞ Hora Atual</div>${render(atual)}
        <div class="titulo-coluna">‚è≠Ô∏è Pr√≥xima Hora</div>${render(proxima)}
        <div class="titulo-coluna">‚è© Seguinte</div>${render(seguinte)}
      `;
    }

    function gerarEstrategia2() {
      const minutoBranco = document.getElementById('minuto-branco').value;
      const horaAtual = document.getElementById('hora-atual').value;

      const [brancoHora, brancoMinuto] = minutoBranco.split(':').map(Number);
      const [horaBase] = horaAtual.split(':').map(Number);

      const horarios = [];

      let m = brancoMinuto + 3;
      let h = horaBase;

      for (let i = 0; i < 20; i++) {
        if (m >= 60) {
          m -= 60;
          h = (h + 1) % 24;
        }

        const hStr = h.toString().padStart(2, '0');
        const mStr = m.toString().padStart(2, '0');
        horarios.push({ hora: hStr + ":" + mStr });
        m += 3;
      }

      const agora = new Date();
      const atual = [];
      const proxima = [];
      const seguinte = [];

      horarios.forEach(item => {
        const h = parseInt(item.hora.slice(0, 2));
        if (h === agora.getHours()) atual.push(item);
        else if (h === (agora.getHours() + 1) % 24) proxima.push(item);
        else if (h === (agora.getHours() + 2) % 24) seguinte.push(item);
      });

      const render = (lista) => lista.map(item => `
        <div class="linha">
          <div>${item.hora}</div>
          <div class="botoes">
            <button>‚úÖ</button>
            <button>‚ùå</button>
          </div>
        </div>
      `).join('');

      document.getElementById('lista2').innerHTML = `
        <div class="titulo-coluna">‚è∞ Hora Atual</div>${render(atual)}
        <div class="titulo-coluna">‚è≠Ô∏è Pr√≥xima Hora</div>${render(proxima)}
        <div class="titulo-coluna">‚è© Seguinte</div>${render(seguinte)}
      `;
    }
  </script>

</body>
</html>
